<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø±Ø­Ù„Ø© ÙˆÙ„Ø§Ø¡ Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠØ© ğŸŒ™</title>

<style>
body{
margin:0;
font-family:'Tahoma';
background: linear-gradient(135deg,#1a001a,#3c096c,#5a189a);
color:white;
text-align:center;
overflow-x:hidden;
}

/* Ù†Ø¬ÙˆÙ… Ù…ØªØ­Ø±ÙƒØ© */
.stars{
position:fixed;
width:100%;
height:100%;
overflow:hidden;
z-index:-2;
}
.star{
position:absolute;
width:2px;
height:2px;
background:white;
border-radius:50%;
animation: twinkle 3s infinite alternate;
}
@keyframes twinkle{
0%{opacity:0.2;}
50%{opacity:1;}
100%{opacity:0.2;}
}

/* Ù‡Ù„Ø§Ù„ Ù…ØªØ­Ø±Ùƒ */
.moon{
position:fixed;
top:50px;
left:50px;
width:120px;
height:120px;
background:gold;
border-radius:50%;
box-shadow:-30px 0 0 0 #3c096c;
animation: float 6s ease-in-out infinite;
z-index:-1;
}
@keyframes float{
0%,100%{transform:translateY(0);}
50%{transform:translateY(20px);}
}

/* Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© */
#welcome{
position:fixed;
width:100%;
height:100%;
background:#000000e6;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
z-index:10;
}
#welcome input{
padding:10px;
border-radius:8px;
border:none;
margin:10px;
text-align:center;
width:200px;
}
button{
padding:10px 20px;
border:none;
border-radius:8px;
background:#c77dff;
color:white;
cursor:pointer;
transition:0.3s;
}
button:hover{background:#9d4edd; transform: scale(1.05);}

header{padding:20px;}

.grid{
display:grid;
grid-template-columns: repeat(auto-fit,minmax(80px,1fr));
gap:8px;
padding:20px;
}
.day{
background:white;
color:black;
padding:8px;
border-radius:10px;
cursor:pointer;
transition:0.3s;
}
.day:hover{background:violet;color:white;}
.active{background:violet !important;color:white;}

.box{
background:white;
color:black;
width:300px;
margin:20px auto;
padding:15px;
border-radius:10px;
box-shadow:0 0 20px rgba(255,255,255,0.2);
transition:0.3s;
}
.box:hover{transform:scale(1.02);}

.progress-container{
width:80%;
background:#333;
margin:20px auto;
border-radius:10px;
overflow:hidden;
}
.progress-bar{
height:20px;
width:0%;
background:linear-gradient(90deg,#c77dff,#9d4edd);
border-radius:10px;
transition:1s;
}

.level{
margin:10px;
font-size:18px;
color:gold;
}

.certificate{
display:none;
margin:20px auto;
padding:20px;
background:white;
color:black;
width:320px;
border-radius:15px;
box-shadow:0 0 20px rgba(255,255,255,0.3);
}

</style>
</head>

<body>

<div class="stars" id="stars"></div>
<div class="moon"></div>

<!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ -->
<div id="welcome">
<h2>ğŸŒ™ Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒÙ ÙÙŠ Ø±Ø­Ù„ØªÙƒ Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠØ©</h2>
<input type="text" id="username" placeholder="Ø§ÙƒØªØ¨ÙŠ Ø§Ø³Ù…Ùƒ">
<button onclick="start()">Ø§Ø¨Ø¯Ø¦ÙŠ âœ¨</button>
</div>

<header>
<h2 id="title"></h2>
<div id="countdown">Ø±Ù…Ø¶Ø§Ù† Ù…Ø¨Ø§Ø±Ùƒ âœ¨</div>
</header>

<h3>ğŸ“… Ø§Ø®ØªØ§Ø±ÙŠ ÙŠÙˆÙ…</h3>
<div class="grid" id="calendar"></div>

<div class="box" id="ibadahBox" style="display:none;">
<h4 id="dayTitle"></h4>
<label><input type="checkbox" id="prayer"> ØµÙ„Ø§Ø©</label><br>
<label><input type="checkbox" id="quran"> Ù‚Ø±Ø¢Ù†</label><br>
<label><input type="checkbox" id="zekr"> Ø£Ø°ÙƒØ§Ø±</label><br>
<label><input type="checkbox" id="charity"> ØµØ¯Ù‚Ø©</label><br>
<label><input type="checkbox" id="fasting"> ØµÙŠØ§Ù…</label><br><br>
<button onclick="saveDay()">Ø­ÙØ¸ âœ…</button>
</div>

<h3>ğŸ“Š ØªÙ‚Ø¯Ù…Ùƒ</h3>
<div class="progress-container">
<div class="progress-bar" id="progressBar"></div>
</div>

<div class="level" id="level"></div>

<div class="certificate" id="certificate">
<h3>ğŸ† Ø´Ù‡Ø§Ø¯Ø© Ø£Ø³Ø·ÙˆØ±ÙŠØ© ğŸ†</h3>
<canvas id="certCanvas" width="300" height="200" style="border-radius:15px;"></canvas><br>
<button onclick="downloadCert()">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©</button>
<button onclick="shareWhatsApp()">Ù…Ø´Ø§Ø±ÙƒØ© ÙˆØ§ØªØ³Ø§Ø¨</button>
</div>

<audio id="sound" autoplay loop>
<source src="https://cdn.islamic.network/quran/audio/64/ar.alafasy/001.mp3" type="audio/mpeg">
</audio>

<script>
/* Ù†Ø¬ÙˆÙ… Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© */
for(let i=0;i<120;i++){
let star=document.createElement("div");
star.className="star";
star.style.top=Math.random()*100+"%";
star.style.left=Math.random()*100+"%";
star.style.animationDelay=Math.random()*3+"s";
document.getElementById("stars").appendChild(star);
}

let user="ÙˆÙ„Ø§Ø¡ ğŸ’œ";

function start(){
let input=document.getElementById("username").value;
if(input.trim()!="") user=input;
document.getElementById("welcome").style.display="none";
document.getElementById("title").innerHTML="Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ… ÙŠØ§ "+user;
document.getElementById("sound").play();
}

// Ø¥Ù†Ø´Ø§Ø¡ Ø£ÙŠØ§Ù… Ø§Ù„ØªÙ‚ÙˆÙŠÙ…
let selectedDay=null;
for(let i=1;i<=30;i++){
let div=document.createElement("div");
div.className="day";
div.innerHTML=i;
div.onclick=function(){
document.querySelectorAll(".day").forEach(d=>d.classList.remove("active"));
div.classList.add("active");
selectedDay=i;
loadDay(i);
}
calendar.appendChild(div);
}

// ØªØ­Ù…ÙŠÙ„ ÙˆØ­ÙØ¸ Ø§Ù„Ù…Ù‡Ø§Ù…
function loadDay(d){
ibadahBox.style.display="block";
dayTitle.innerHTML="Ø§Ù„ÙŠÙˆÙ… "+d;
let data=JSON.parse(localStorage.getItem("d"+d))||{};
prayer.checked=data.prayer||false;
quran.checked=data.quran||false;
zekr.checked=data.zekr||false;
charity.checked=data.charity||false;
fasting.checked=data.fasting||false;
}

function saveDay(){
let data={
prayer:prayer.checked,
quran:quran.checked,
zekr:zekr.checked,
charity:charity.checked,
fasting:fasting.checked
};
localStorage.setItem("d"+selectedDay,JSON.stringify(data));
updateProgress();
document.getElementById("sound").play();
alert("Ù…Ø§ Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡ ÙŠØ§ "+user+" ğŸ’œ Ø§Ø³ØªÙ…Ø±ÙŠ ğŸŒ™");
}

// ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø¯Ù…
function updateProgress(){
let completed=0;
let points=0;
for(let i=1;i<=30;i++){
let d=JSON.parse(localStorage.getItem("d"+i));
if(d){
let c=Object.values(d).filter(v=>v).length;
points+=c*10;
if(c>=3) completed++;
}
progressBar.style.width=(completed/30*100)+"%";
let lvl="ğŸŒ± Ù…Ø¨ØªØ¯Ø¦Ø©";
if(points>300) lvl="ğŸ¥ˆ ÙØ¶ÙŠ";
if(points>600) lvl="ğŸ¥‡ Ø°Ù‡Ø¨ÙŠ";
if(points>900) lvl="ğŸ‘‘ Ø£Ø³Ø·ÙˆØ±ÙŠ";
level.innerHTML="Ø§Ù„Ù…Ø³ØªÙˆÙ‰: "+lvl+" | Ø§Ù„Ù†Ù‚Ø§Ø·: "+points;

if(completed==30){
certificate.style.display="block";
let canvas=document.getElementById("certCanvas");
let ctx=canvas.getContext("2d");
ctx.fillStyle="#f7f1e3";
ctx.fillRect(0,0,canvas.width,canvas.height);
ctx.fillStyle="#000";
ctx.font="18px Tahoma";
ctx.textAlign="center";
ctx.fillText("ğŸ† Ø´Ù‡Ø§Ø¯Ø© Ø¥ØªÙ…Ø§Ù… Ø±Ù…Ø¶Ø§Ù† ğŸ†",canvas.width/2,50);
ctx.fillText(user,canvas.width/2,100);
ctx.fillText("Ù…Ø§ Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡ ğŸ’œ Ø§Ø³ØªÙ…Ø±ÙŠ ÙÙŠ Ø§Ù„Ø·Ø§Ø¹Ø©",canvas.width/2,150);
}
}
}

updateProgress();

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© ÙƒØµÙˆØ±Ø© PNG
function downloadCert(){
let canvas=document.getElementById("certCanvas");
let link=document.createElement("a");
link.download="Certificate.png";
link.href=canvas.toDataURL();
link.click();
}

// Ù…Ø´Ø§Ø±ÙƒØ© ÙˆØ§ØªØ³Ø§Ø¨
function shareWhatsApp(){
let text="Ø£Ù†Ù‡ÙŠØª Ø±Ø­Ù„ØªÙŠ Ø§Ù„Ø¥ÙŠÙ…Ø§Ù†ÙŠØ© ÙÙŠ Ø±Ù…Ø¶Ø§Ù† ğŸŒ™âœ¨";
window.open("https://wa.me/?text="+encodeURIComponent(text));
}
</script>

</body>
</html>
